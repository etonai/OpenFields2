"C:\Program Files\Eclipse Adoptium\jdk-21.0.7.6-hotspot\bin\java.exe" --module-path C:\lib\javafx-sdk-21.0.7\lib --add-modules javafx.controls,javafx.fxml,javafx.media "-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2\lib\idea_rt.jar=55622:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2023.2\bin" -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\dev\TTCombat\OF2Prototype01\target\classes;C:\Users\edwar\.m2\repository\org\openjfx\javafx-controls\21.0.2\javafx-controls-21.0.2.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-controls\21.0.2\javafx-controls-21.0.2-win.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-graphics\21.0.2\javafx-graphics-21.0.2.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-graphics\21.0.2\javafx-graphics-21.0.2-win.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-base\21.0.2\javafx-base-21.0.2.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-base\21.0.2\javafx-base-21.0.2-win.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-media\21.0.2\javafx-media-21.0.2.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-media\21.0.2\javafx-media-21.0.2-win.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-fxml\21.0.2\javafx-fxml-21.0.2.jar;C:\Users\edwar\.m2\repository\org\openjfx\javafx-fxml\21.0.2\javafx-fxml-21.0.2-win.jar;C:\Users\edwar\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.16.1\jackson-databind-2.16.1.jar;C:\Users\edwar\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.16.1\jackson-annotations-2.16.1.jar;C:\Users\edwar\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.16.1\jackson-core-2.16.1.jar OpenFields2
Debug: I have a breakpoint here. We should have stopped!!!
*** Loaded character registry from resources

*********************************
***       OPEN FIELDS 2      ***
*********************************
*** Themes loaded successfully: 2 themes available
*** Default theme: test_theme
Theme: Test Theme

Debug configuration loaded from debug-config.json
Debug Settings:
  Auto-targeting: visible=false, verbose=false
  Combat debug: true
  Movement debug: false
  Weapons debug: true
  Event queue debug: false
  Blocking: defensive=DISABLED, recovery=DISABLED
*** Initializing Faction System ***
Failed to apply auto-targeting debug configuration: combat.Character.setAutoTargetDebugVisible(boolean)
Loaded faction registry with 4 factions, nextCharacterId: 1
=== FACTION REGISTRY ===
Next Character ID: 1
Factions:
  Faction{id=0, name='NONE', allies=[], enemies=[], victories=0, defeats=0, participations=0}
  Faction{id=1, name='Union', allies=[3], enemies=[2], victories=0, defeats=0, participations=0}
  Faction{id=2, name='Confederacy', allies=[], enemies=[1, 3], victories=0, defeats=0, participations=0}
  Faction{id=3, name='Southern Unionists', allies=[1], enemies=[2], victories=0, defeats=0, participations=0}
*** Faction System Ready ***
*** Loaded melee weapon type: MELEE_UNARMED with 4 states
*** Loaded melee weapon type: MELEE_SHORT with 6 states
*** Loaded melee weapon type: MELEE_MEDIUM with 6 states
*** Loaded melee weapon type: MELEE_LONG with 6 states
*** Data loaded successfully: 11 weapons, 8 weapon types, 11 skills, 10 melee weapons
[MELEE-WEAPON-FACTORY] Loaded 6 states for Steel Dagger (type: MELEE_SHORT, initial: sheathed)
[MELEE-WEAPON-FACTORY] Loaded 6 states for Officer's Sword (type: MELEE_MEDIUM, initial: sheathed)
[MELEE-WEAPON-FACTORY] Loaded 6 states for Bowie Knife (type: MELEE_SHORT, initial: sheathed)
[MELEE-WEAPON-FACTORY] Loaded 6 states for Cavalry Sabre (type: MELEE_MEDIUM, initial: sheathed)
[MELEE-WEAPON-FACTORY] Loaded 6 states for Bowie Knife (type: MELEE_SHORT, initial: sheathed)
[MELEE-WEAPON-FACTORY] Loaded 6 states for Indian Tomahawk (type: MELEE_MEDIUM, initial: sheathed)
***********************
*** SYSTEM VALIDATION ***
✓ Faction registry operational (4 factions)
✓ Character persistence manager operational
✓ Theme manager operational (2 themes available)
✓ Weapon factory operational (11 weapons available)
*** VALIDATION COMPLETE ***
***********************
***********************
*** Game is paused
***********************
Selected: 1002:Chris | Health: 50/50 | Weapon: Colt Peacemaker | State: holstered | Pos: (400.0, 100.0)
*** 1002:Chris switched to Melee Combat mode
*** 1002:Chris automatic targeting ENABLED ***
***********************
*** Game resumed
***********************
*** 1002:Chris weapon progression: current=sheathed, target=melee_ready, tick=1 ***
*** 1002:Chris scheduling transition from sheathed to unsheathing in 0 ticks (at tick 1) ***
*** 1002:Chris weapon state: sheathed -> unsheathing ***
*** 1002:Chris weapon progression: current=unsheathing, target=melee_ready, tick=1 ***
*** 1002:Chris scheduling transition from unsheathing to melee_ready in 60 ticks (at tick 61) ***
*** 1002:Chris weapon state: unsheathing -> melee_ready ***
*** 1002:Chris weapon progression: current=melee_ready, target=melee_ready, tick=61 ***
[MELEE-ATTACK] 1002:Chris startMeleeAttackSequence called at tick 191
[MELEE-ATTACK] 1002:Chris scheduling melee attack on 1001:Bobby in 60 ticks at tick 191
[MELEE-ATTACK] 1002:Chris executes melee attack on 1001:Bobby at tick 251
[COMBAT-RECOVERY] 1002:Chris starts melee recovery for 60 ticks (until tick 311)
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 311
>>> Resolving melee attack: 1002:Chris attacks 1001:Bobby with Bowie Knife
=== MELEE HIT CALCULATION DEBUG ===
Attacker: 1002:Chris -> Target: 1001:Bobby
Weapon: Bowie Knife (accuracy: 20)
Attacker Dexterity: 50 (modifier: 0)
Weapon Accuracy: 20
Skill Bonus: 0 (no combat skill specified)
Movement Penalty: 25
First Attack Penalty: -15 (first attack: true, very careful: false)
Attack Modifier: -20
Target Defense (Dex): 30 (modifier: -4)
Base Hit Chance: 60% + -20 - -4 = 44%
Final Hit Chance: 44% (clamped 5-95%)
[MELEE-COMBAT] Random roll: 27 (need <= 44)
[MELEE-COMBAT] Result: HIT!
===================================
=== MELEE DAMAGE CALCULATION DEBUG ===
Base Weapon Damage: 40
Hit Location: left_leg
Wound Severity: light
Scaled Damage (after wound severity): 16
Attacker Strength: 50 (bonus: 0)
Final Damage: 16 + 0 = 16
>>> Bowie Knife strikes 1001:Bobby in the left_leg causing a light wound at tick 261
>>> 1001:Bobby takes 16 damage
>>> HESITATION STARTED: 1001:Bobby begins hesitating for 15 ticks due to light wound
>>> 1001:Bobby current health: 79/95
>>> BRAVERY CHECK: 1001:Bobby rolls 91.6 vs 46 (wounded by Bowie Knife)
>>> BRAVERY FAILED: 1001:Bobby fails bravery check! Total failures: 1 (penalty: -10 accuracy)
>>> BRAVERY CHECK: 1005:Frank rolls 46.4 vs 57 (ally 1001:Bobby hit by Bowie Knife)
>>> BRAVERY PASSED: 1005:Frank passes bravery check
>>> Melee hit! Bowie Knife deals 16 damage to left_leg
========================================
[COMBAT-RECOVERY] 1002:Chris starts melee recovery for 120 ticks (until tick 381)
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
>>> HESITATION ENDED: 1001:Bobby recovers from hesitation at tick 261
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
[AUTO-TARGETING] 1002:Chris auto-targeting skipped - in melee recovery until tick 381
>>> BRAVERY RECOVERY: 1001:Bobby recovers from bravery failure. Remaining failures: 0
***********************
*** Game paused at tick 756
***********************
